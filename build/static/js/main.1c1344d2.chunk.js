(this.webpackJsonphabits=this.webpackJsonphabits||[]).push([[0],{17:function(e,t,a){e.exports={wrap:"Timer_wrap__3ZEde",span:"Timer_span__3VO5F",spanAbs:"Timer_spanAbs__2yYDJ"}},18:function(e,t,a){e.exports={item:"TrackerItem_item__2RIv8",name:"TrackerItem_name__KMA-E",wrap:"TrackerItem_wrap___XJwQ",active:"TrackerItem_active__K3qUH"}},22:function(e,t,a){e.exports={listContainer:"TrackerList_listContainer__1oo9k",list:"TrackerList_list__2w2qU",text:"TrackerList_text__1f4gU"}},27:function(e,t,a){e.exports={remove:"ButtonControl_remove__2F1Im",wrap:"ButtonControl_wrap__37NJr"}},30:function(e,t,a){e.exports={container:"Layout_container__1nNA4"}},48:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a(12),s=a.n(c),i=a(4),o=a(5),u={set:Object(o.b)("SET_TIMER"),start:Object(o.b)("START_TIMER"),stop:Object(o.b)("STOP_TIMER"),remove:Object(o.b)("REMOVE_TIMER"),setCurrentDate:Object(o.b)("CURRENT_TIME")},l=a(9),b=a(10),j=a(35),O=a(3),p=a(61),d=a(11),m=a.n(d),_=localStorage.getItem("habits"),f=m()().valueOf(),v=_?JSON.parse(_):[],h=Object(o.c)(v,(r={},Object(l.a)(r,u.set,(function(e,t){var a=t.payload,r=m()(),n=r.add(a.numberOfDays,"days"),c=[{name:a.name,id:Object(p.a)(),start:r.valueOf(),stop:n.valueOf()}].concat(Object(j.a)(e));return localStorage.setItem("habits",JSON.stringify(c)),c})),Object(l.a)(r,u.start,(function(e,t){var a=t.payload,r=e.map((function(e){if(e.id===a){var t=e.stop-e.start;e=Object(b.a)(Object(b.a)({},e),{},{start:m()().get("milliseconds")-t,stop:null})}return e}));return localStorage.setItem("habits",JSON.stringify(r)),r})),Object(l.a)(r,u.stop,(function(e,t){var a=t.payload,r=e.map((function(e){return e.id===a&&(e=Object(b.a)(Object(b.a)({},e),{},{stop:m()().get("milliseconds")})),e}));return localStorage.setItem("habits",JSON.stringify(r)),r})),Object(l.a)(r,u.remove,(function(e,t){var a=t.payload,r=e.filter((function(e){return e.id!==a}));return r.length>0?localStorage.setItem("habits",JSON.stringify(r)):localStorage.removeItem("habits"),r})),r)),x=Object(o.c)(f,Object(l.a)({},u.setCurrentDate,(function(e,t){return t.payload}))),T=Object(O.c)({trackers:h,currentDate:x}),g={setCurrentDate:function(){return function(e){setInterval((function(){e(u.setCurrentDate(Date.now()))}),1e3)}}},y=a(19),k=function(e){return e.trackers},C=function(e){return e.currentDate},N={getTrackers:k,getCurrentDate:C,getCurrentFormatTimeById:Object(y.a)([k,C,function(e,t){return t}],(function(e,t,a){var r=e.find((function(e){return e.id===a})),n=Math.round((m()().valueOf()-r.start)/1e3/60/60/24),c=Math.round((r.stop-r.start)/1e3/60/60/24),s=(m()().valueOf()-r.start)/(r.stop-r.start)*100;return Object(b.a)(Object(b.a)({},r),{},{current:n,stop:c,percentages:s.toFixed(2)})}))},I=a(30),D=a.n(I),w=a(2);function S(e){var t=e.children;return Object(w.jsx)("div",{className:D.a.container,children:t})}var E=a(60),J=a(17),M=a.n(J);function R(e){var t=e.trackerId,a=Object(i.c)((function(e){return N.getCurrentFormatTimeById(e,t)})),r=a.stop,n=a.current,c=a.percentages;return Object(w.jsxs)("div",{className:M.a.wrap,children:[Object(w.jsx)("span",{className:M.a.span,children:"0"}),Object(w.jsx)(E.a,{defaultValue:n,"aria-label":"default",valueLabelDisplay:"on",disabled:!0}),Object(w.jsxs)("span",{className:M.a.span,children:[r,"(d)"]}),Object(w.jsxs)("span",{className:M.a.spanAbs,children:[c,"%"]})]})}var A=a(27),B=a.n(A);function F(e){var t=e.tracker.id,a=Object(i.b)();return Object(w.jsx)("div",{className:B.a.wrap,children:Object(w.jsx)("button",{type:"button",className:B.a.remove,onClick:function(){return a(u.remove(t))}})})}var L=a(18),U=a.n(L);function H(e){var t=e.tracker,a=t.stop,r=U.a.item,n=U.a.active,c=U.a.wrap,s=U.a.name;return Object(w.jsxs)("li",{className:a?r:"".concat(r," ").concat(n),children:[Object(w.jsx)("p",{className:s,children:t.name}),Object(w.jsxs)("div",{className:c,children:[Object(w.jsx)(R,{trackerId:t.id}),Object(w.jsx)(F,{tracker:t})]})]})}var V=a(22),q=a.n(V);function K(){var e=Object(i.c)(N.getTrackers);return Object(w.jsx)("div",{className:q.a.listContainer,children:e&&e.length>0?Object(w.jsx)("ul",{className:q.a.list,children:e.map((function(e){return Object(w.jsx)(H,{tracker:e},e.id)}))}):Object(w.jsx)("p",{className:q.a.text,children:"Create new habit tracker now"})})}var P=a(28),Q=a(8),X=a.n(Q);function Y(){var e=Object(i.b)(),t=Object(n.useState)(""),a=Object(P.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(P.a)(s,2),l=o[0],b=o[1];return Object(w.jsxs)("form",{className:X.a.form,onSubmit:function(t){t.preventDefault(),e(u.set({name:r,numberOfDays:l})),c(""),b("")},children:[Object(w.jsx)("label",{className:X.a.label,children:Object(w.jsx)("input",{className:r?X.a.input:"".concat(X.a.input," ").concat(X.a.invalid),type:"text",placeholder:"Enter habit name",value:r,onChange:function(e){return c(e.target.value)}})}),Object(w.jsx)("label",{className:X.a.labelDay,children:Object(w.jsx)("input",{className:l?X.a.inputDay:"".concat(X.a.inputDay," ").concat(X.a.invalid),type:"text",placeholder:"How days do you need?",value:l,onChange:function(e){(parseInt(e.target.value)||""===e.target.value)&&b(e.target.value)}})}),Object(w.jsx)("button",{className:X.a.button,type:"submit",disabled:!r||!l})]})}function Z(){var e=Object(i.b)();return Object(n.useEffect)((function(){e(g.setCurrentDate())}),[e]),Object(w.jsxs)(S,{children:[Object(w.jsx)("h1",{children:"Habits"}),Object(w.jsx)(Y,{}),Object(w.jsx)(K,{})]})}var z=Object(o.a)({reducer:T});s.a.render(Object(w.jsx)(i.a,{store:z,children:Object(w.jsx)(Z,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={form:"CreateTracker_form__3wBTO",label:"CreateTracker_label__2BPwU",labelDay:"CreateTracker_labelDay__14CJg",input:"CreateTracker_input___0nTA",inputDay:"CreateTracker_inputDay__aC_Eo",invalid:"CreateTracker_invalid__1sw-2",button:"CreateTracker_button__3jpJO"}}},[[48,1,2]]]);
//# sourceMappingURL=main.1c1344d2.chunk.js.map