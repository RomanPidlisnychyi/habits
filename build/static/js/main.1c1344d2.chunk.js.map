{"version":3,"sources":["components/Timer/Timer.module.css","components/TrackerItem/TrackerItem.module.css","components/TrackerList/TrackerList.module.css","components/ButtonControl/ButtonControl.module.css","components/Layout/Layout.module.css","redux/tracker/trackerActions.js","redux/tracker/trackerReducer.js","redux/tracker/trackerOperations.js","redux/tracker/trackerSelectors.js","components/Layout/Layout.js","components/Timer/Timer.js","components/ButtonControl/ButtonControl.js","components/TrackerItem/TrackerItem.js","components/TrackerList/TrackerList.js","components/CreateTracker/CreateTracker.js","App.js","redux/store.js","index.js","components/CreateTracker/CreateTracker.module.css"],"names":["module","exports","timerActions","set","createAction","start","stop","remove","setCurrentDate","localState","localStorage","getItem","initialCurrent","dayjs","valueOf","initialState","JSON","parse","trackers","createReducer","trackerActions","state","payload","add","numberOfDays","newState","name","id","uuidv4","setItem","stringify","trackerId","map","tracker","timeTracked","get","filter","length","removeItem","currentDate","_","combineReducers","timerOperations","dispatch","setInterval","Date","now","getTrackers","getCurrentDate","trackerSelectors","getCurrentFormatTimeById","createSelector","find","current","Math","round","percentages","toFixed","Layout","children","className","styles","container","Timer","useSelector","wrap","span","Slider","defaultValue","aria-label","valueLabelDisplay","disabled","spanAbs","ButtonControl","useDispatch","type","onClick","TrackerItem","item","active","TrackerList","listContainer","list","text","CreateTracker","useState","setName","setNumberOfDays","form","onSubmit","e","preventDefault","label","input","invalid","placeholder","value","onChange","target","labelDay","inputDay","parseInt","button","App","useEffect","trackerOperations","store","configureStore","reducer","trackerReducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1c1344d2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Timer_wrap__3ZEde\",\"span\":\"Timer_span__3VO5F\",\"spanAbs\":\"Timer_spanAbs__2yYDJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"TrackerItem_item__2RIv8\",\"name\":\"TrackerItem_name__KMA-E\",\"wrap\":\"TrackerItem_wrap___XJwQ\",\"active\":\"TrackerItem_active__K3qUH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listContainer\":\"TrackerList_listContainer__1oo9k\",\"list\":\"TrackerList_list__2w2qU\",\"text\":\"TrackerList_text__1f4gU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"remove\":\"ButtonControl_remove__2F1Im\",\"wrap\":\"ButtonControl_wrap__37NJr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Layout_container__1nNA4\"};","import { createAction } from '@reduxjs/toolkit';\n\nconst set = createAction('SET_TIMER');\nconst start = createAction('START_TIMER');\nconst stop = createAction('STOP_TIMER');\nconst remove = createAction('REMOVE_TIMER');\nconst setCurrentDate = createAction('CURRENT_TIME');\n\nconst timerActions = {\n  set,\n  start,\n  stop,\n  remove,\n  setCurrentDate,\n};\n\nexport default timerActions;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport { v4 as uuidv4 } from 'uuid';\nimport dayjs from 'dayjs';\nimport { trackerActions } from '.';\n\nconst localState = localStorage.getItem('habits');\nconst initialCurrent = dayjs().valueOf();\nconst initialState = localState ? JSON.parse(localState) : [];\n\nconst setTracker = (state, { payload }) => {\n  const start = dayjs();\n  const stop = start.add(payload.numberOfDays, 'days');\n\n  const tracker = {\n    name: payload.name,\n    id: uuidv4(),\n    start: start.valueOf(),\n    stop: stop.valueOf(),\n  };\n\n  const newState = [tracker, ...state];\n\n  localStorage.setItem('habits', JSON.stringify(newState));\n\n  return newState;\n};\n\nconst startTracker = (state, { payload: trackerId }) => {\n  const newState = state.map(tracker => {\n    if (tracker.id === trackerId) {\n      const timeTracked = tracker.stop - tracker.start;\n      tracker = { ...tracker, start: dayjs().get('milliseconds') - timeTracked, stop: null };\n    }\n    return tracker;\n  });\n\n  localStorage.setItem('habits', JSON.stringify(newState));\n\n  return newState;\n};\n\nconst stopTracker = (state, { payload: trackerId }) => {\n  const newState = state.map(tracker => {\n    if (tracker.id === trackerId) {\n      tracker = { ...tracker, stop: dayjs().get('milliseconds') };\n    }\n    return tracker;\n  });\n\n  localStorage.setItem('habits', JSON.stringify(newState));\n\n  return newState;\n};\n\nconst removeTracker = (state, { payload: trackerId }) => {\n  const newState = state.filter(tracker => tracker.id !== trackerId);\n\n  newState.length > 0\n    ? localStorage.setItem('habits', JSON.stringify(newState))\n    : localStorage.removeItem('habits');\n\n  return newState;\n};\n\nconst trackers = createReducer(initialState, {\n  [trackerActions.set]: setTracker,\n  [trackerActions.start]: startTracker,\n  [trackerActions.stop]: stopTracker,\n  [trackerActions.remove]: removeTracker,\n});\n\nconst currentDate = createReducer(initialCurrent, {\n  [trackerActions.setCurrentDate]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({\n  trackers,\n  currentDate,\n});\n","import { trackerActions } from '.';\n\nconst setCurrentDate = () => dispatch => {\n  setInterval(() => {\n    dispatch(trackerActions.setCurrentDate(Date.now()));\n  }, 1000);\n};\n\nconst timerOperations = {\n  setCurrentDate,\n};\n\nexport default timerOperations;\n","import { createSelector } from '@reduxjs/toolkit';\nimport dayjs from 'dayjs';\n\nconst getTrackers = state => state.trackers;\nconst getCurrentDate = state => state.currentDate;\n\nconst getCurrentFormatTimeById = createSelector(\n  [getTrackers, getCurrentDate, (state, trackerId) => trackerId],\n  (trackers, currentDate, trackerId) => {\n    const tracker = trackers.find(tracker => tracker.id === trackerId);\n    const current = Math.round((dayjs().valueOf() - tracker.start) / 1000 / 60 / 60 / 24);\n    const stop = Math.round((tracker.stop - tracker.start) / 1000 / 60 / 60 / 24);\n    const percentages = (dayjs().valueOf() - tracker.start) / (tracker.stop - tracker.start) * 100;\n\n    return { ...tracker, current, stop, percentages: percentages.toFixed(2) };\n  }\n);\n\nconst trackerSelectors = {\n  getTrackers,\n  getCurrentDate,\n  getCurrentFormatTimeById,\n};\n\nexport default trackerSelectors;\n","import styles from './Layout.module.css';\n\nexport default function Layout({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import { useSelector } from 'react-redux';\nimport { Slider } from '@material-ui/core';\nimport { trackerSelectors } from '../../redux/tracker';\nimport styles from './Timer.module.css';\n\nexport default function Timer({ trackerId }) {\n  const { stop, current, percentages } = useSelector(state =>\n    trackerSelectors.getCurrentFormatTimeById(state, trackerId)\n  );\n  return (\n    <div className={styles.wrap}>\n      <span className={styles.span}>0</span>\n      <Slider defaultValue={current} aria-label=\"default\" valueLabelDisplay=\"on\" disabled />\n      <span className={styles.span}>{stop}(d)</span>\n      <span className={styles.spanAbs}>{percentages}%</span>\n    </div>\n  );\n}\n","import { useDispatch } from 'react-redux';\nimport { trackerActions } from '../../redux/tracker';\nimport styles from './ButtonControl.module.css';\n\nexport default function ButtonControl({ tracker }) {\n  const { id } = tracker;\n  const dispatch = useDispatch();\n  return (\n    <div className={styles.wrap}>\n      <button\n        type=\"button\"\n        className={styles.remove}\n        onClick={() => dispatch(trackerActions.remove(id))}\n      />\n    </div>\n  );\n}\n","import Timer from '../Timer/Timer';\nimport ButtonControl from '../ButtonControl/ButtonControl';\nimport styles from './TrackerItem.module.css';\n\nexport default function TrackerItem({ tracker }) {\n  const { stop } = tracker;\n\n  const { item, active, wrap, name } = styles;\n\n  return (\n    <li className={stop ? item : `${item} ${active}`}>\n      <p className={name}>{tracker.name}</p>\n      <div className={wrap}>\n        <Timer trackerId={tracker.id} />\n        <ButtonControl tracker={tracker} />\n      </div>\n    </li>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { trackerSelectors } from '../../redux/tracker';\nimport TrackerItem from '../TrackerItem/TrackerItem';\nimport styles from './TrackerList.module.css';\n\nexport default function TrackerList() {\n  const trackers = useSelector(trackerSelectors.getTrackers);\n  return (\n    <div className={styles.listContainer}>\n      {trackers && trackers.length > 0 ? (\n        <ul className={styles.list}>\n          {trackers.map(tracker => (\n            <TrackerItem key={tracker.id} tracker={tracker} />\n          ))}\n        </ul>\n      ) : (\n        <p className={styles.text}>Create new habit tracker now</p>\n      )}\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { trackerActions } from '../../redux/tracker';\nimport styles from './CreateTracker.module.css';\n\nexport default function CreateTracker() {\n  const dispatch = useDispatch();\n\n  const [name, setName] = useState('');\n  const [numberOfDays, setNumberOfDays] = useState('');\n\n  const handlerSubmit = e => {\n    e.preventDefault();\n\n    dispatch(trackerActions.set({ name, numberOfDays }));\n    setName('');\n    setNumberOfDays('');\n  };\n  return (\n    <form className={styles.form} onSubmit={handlerSubmit}>\n        <label className={styles.label}>\n          <input\n            className={name ? styles.input : `${styles.input} ${styles.invalid}`}\n            type=\"text\"\n            placeholder=\"Enter habit name\"\n            value={name}\n            onChange={e => setName(e.target.value)}\n          />\n        </label>\n        <label className={styles.labelDay}>\n          <input\n            className={numberOfDays ? styles.inputDay : `${styles.inputDay} ${styles.invalid}`}\n            type=\"text\"\n            placeholder=\"How days do you need?\"\n            value={numberOfDays}\n            onChange={e => {\n              if((parseInt(e.target.value)) || e.target.value === '') {\n                setNumberOfDays(e.target.value);\n              }\n            }}\n          />\n        </label>\n      <button className={styles.button} type=\"submit\" disabled={!name || !numberOfDays } />\n    </form>\n  );\n}\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { trackerOperations } from './redux/tracker';\nimport Layout from './components/Layout/Layout';\nimport TrackerList from './components/TrackerList/TrackerList';\nimport CreateTracker from './components/CreateTracker/CreateTracker';\n\nexport default function App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(trackerOperations.setCurrentDate());\n  }, [dispatch]);\n  return (\n    <Layout>\n      <h1>Habits</h1>\n      <CreateTracker />\n      <TrackerList />\n    </Layout>\n  );\n}\n","import { configureStore } from '@reduxjs/toolkit';\nimport { trackerReducer } from './tracker';\n\nconst store = configureStore({\n  reducer: trackerReducer,\n});\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './redux/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"CreateTracker_form__3wBTO\",\"label\":\"CreateTracker_label__2BPwU\",\"labelDay\":\"CreateTracker_labelDay__14CJg\",\"input\":\"CreateTracker_input___0nTA\",\"inputDay\":\"CreateTracker_inputDay__aC_Eo\",\"invalid\":\"CreateTracker_invalid__1sw-2\",\"button\":\"CreateTracker_button__3jpJO\"};"],"sourceRoot":""}